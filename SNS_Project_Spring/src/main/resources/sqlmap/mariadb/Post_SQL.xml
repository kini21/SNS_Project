<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="postDAO">
    
  <select id="getPost" resultType="post">
       <![CDATA[ 
           SELECT * 
             FROM POST
            WHERE PID = ${pid} 
       ]]>
  </select>
  
  <select id="getPostList" resultType="post">
        <![CDATA[
            SELECT *
              FROM POST
        ]]>
  </select>
   
  <insert id="insertPost" parameterType="post" >
        <![CDATA[ 
            INSERT INTO POST ( CONTENTS
                             , USER_UID
                             , PDATE )
		              VALUES ( #{contents}
		                     , #{user_uid}
		                     , SYSDATE() )
		]]>
  </insert>
  
  <update id="updatePost" parameterType="post">
       <![CDATA[ 
           UPDATE USERS SET
                  CONTENTS = #{contents},
                  PDATE    = #{pdate} 
            WHERE PID      = ${pid}
        ]]>
  </update>
  
  <delete id="deletePost" parameterType="post" >
       <![CDATA[ 
           DELETE FROM POST
            WHERE PID = ${pid}
       ]]>
  </delete>
  
</mapper>