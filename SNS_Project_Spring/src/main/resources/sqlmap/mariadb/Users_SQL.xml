<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="userDAO">
    
  <select id="getUser" resultType="users">
       <![CDATA[ SELECT * 
       			 FROM USERS 
                 WHERE LOGINID = #{loginid} AND PASSWORD = #{password} 
       ]]>
  </select>
  
  <select id="getUserList" resultType="users">
        <![CDATA[ SELECT * FROM USERS WHERE NICK LIKE CONCAT('%',#{searchKeyword},'%')]]>
  </select>
  
  <select id="existUserId" parameterType="String" resultType="int">
        <![CDATA[ 
           SELECT COUNT(*) AS USERIDCNT 
           FROM USERS
           WHERE LOGINID = #{loginid}
           ]]>
  </select>
   
  <insert id="insertUser" parameterType="users" >
        <![CDATA[ 
        INSERT INTO USERS (loginid, password, email, nick)
		VALUES(#{loginid},#{password},#{email},#{nick})
		]]>
  </insert>
  
  <update id="updateUser" parameterType="users">
       <![CDATA[ 
       UPDATE USERS SET
              PASSWORD = #{password},
              EMAIL = #{email},
              NICK = #{nick} 
        WHERE UID  = #{uid}
        ]]>
  </update>
  
  <delete id="deleteUser" parameterType="users" >
       <![CDATA[ DELETE FROM USERS WHERE UID = #{uid} ]]>
  </delete>
  
</mapper>